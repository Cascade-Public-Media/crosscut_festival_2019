!function(n,t){"use strict";t.behaviors.bootstrap_barrio_subtheme={attach:function(t,s){var e=n(".nav-dropdown"),a=n("#toggle");if(a.on("click keypress",function(t){(function(t){if("click"===t.type)return!0;if("keypress"===t.type){var s=t.charCode||t.keyCode;if(32===s||13===s)return!0}})(t)&&(e.hasClass("active")?(e.removeClass("active"),n(this).attr("aria-expanded","false").removeClass("active")):(e.addClass("active"),n(this).attr("aria-expanded","true").addClass("active")))}),n(document).on("click",function(t){t.stopPropagation(),"toggle"!==t.target.id&&e.hasClass("active")&&(e.removeClass("active"),a.attr("aria-expanded","false").removeClass("active"))}),s.path.isFront){var o=n("#sched-iframe iframe");if(0<o.length)new MutationObserver(function(t,s){if(window.location.hash){var e=n(window.location.hash).offset().top,a=n("#header").outerHeight();n("html, body").scrollTop(e-a)}s.disconnect()}).observe(o[0],{attributes:!0,attributeFilter:["style"]});window.location.hash&&n('a[href^="/'+window.location.hash+'"]').addClass("active"),n('a[href^="/#"]').on("click",function(t){t.preventDefault();var s=this.hash,e=n("#header").outerHeight();n("html, body").animate({scrollTop:n(s).offset().top-e},1e3,function(){history.pushState?history.pushState({},"",s):window.location.hash=s}),n('a.cf-nav-link[href^="/#"]').removeClass("active").blur(),n(this).addClass("active")});var c=n("#heroVideo");n(c).on("ended",function(){n(".hero-overlay.video").removeClass("active"),n(".hero-overlay-image").animate({opacity:1},600)})}n(window).scroll(function(){50<n(this).scrollTop()?n("body").addClass("scrolled"):n("body").removeClass("scrolled")})}},t.behaviors.crosscutFestivalMenu={attach:function(t,s){n("#header").once("crosscutFestivalMenu").each(function(){s.path.isFront&&(new MutationObserver(function(){var t=n("#header").outerHeight();n("#content").css("margin-top",t)}).observe(n(this)[0],{attributes:!0,attributeFilter:["data-mutate"],childList:!0,subtree:!0}),n(this).attr("data-mutate",1))})}},t.behaviors.crosscutFestivalAnnouncement={attach:function(t,s){n(".announcement-banner").once("crosscutFestivalAnnouncement").each(function(){sessionStorage.getItem("announcementClosed")||(n(this).removeClass("d-none"),n(this).children(".close").on("click",function(){n(this).parent().remove(),sessionStorage.setItem("announcementClosed","1")}))})}},t.behaviors.crosscutNews={attach:function(t,s){n("#news").once("crosscutNews").each(function(){var i=n(".crosscut-articles"),r="https://crosscut.com";n.ajax({url:"https://crosscut.com/json/festival-news",method:"GET",crossDomain:!0,success:function(t){!function(t){for(var s="",e=0;e<t.length;e++){var a=t[e].view_node,o=r+t[e].image,c=t[e].created.slice(0,-8);s+='<div class="row no-gutters article-row"><div class="col-sm-6 col-md-3"><div class="img-container"><a href="'+a+'"><img class="newsImage" alt="Crosscut Festival News Article" src="'+o+'"/></a></div></div><div class="col-sm-6 col-md-9 article-teaser"><h4><a href="'+a+'">'+t[e].title+"</a></h4>"+t[e].excerpt+'<span class="byline">by '+t[e].author+" / "+c+"</span></div></div>"}i.append(s)}(t)},error:function(t,s,e){t.status,t.statusText;i.append('<p>Head over to <a href="https://crosscut.com/crosscut-festival">crosscut.com</a> to see the latest Crosscut Festival updates.</p>')}})})}},t.behaviors.crosscutTalksPodcast={attach:function(t,s){n("#media-crosscut-talks").once("crosscutTalksPodcast").each(function(){var i=n(".podcasts"),r="https://crosscut.com";n.ajax({url:"https://crosscut.com/json/crosscut-talks",method:"GET",crossDomain:!0,success:function(t){!function(t){for(var s='<div class="podcasts-row row">',e=0;e<t.length;e++){var a=t[e].view_node,o=r+t[e].image,c=t[e].created.slice(0,-8);s+='<div class="podcast col-sm-6"><div class="img-container"><a href="'+a+'"><img class="crosscut-image" alt="Crosscut Talks Podcast" src="'+o+'"/><div class="icon-podcast"></div></a></div><div class="teaser-text"><h4><a href="'+a+'">'+t[e].title+"</a></h4><div>"+t[e].field_teaser_text+'</div><span class="metadata">Season'+t[e].field_season+", Episode "+t[e].field_episode+" / "+c+"</span></div></div>"}s+="</div>",i.append(s)}(t)},error:function(t,s,e){t.status,t.statusText;i.append('<p>Head over to <a href="https://crosscut.com/podcasts/crosscut-talks">crosscut.com</a> to see the latest episodes of Crosscut Talks.</p>')}})})}}}(jQuery,Drupal);
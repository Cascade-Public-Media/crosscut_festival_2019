!function(r,e){"use strict";e.behaviors.bootstrap_barrio_subtheme={attach:function(e,t){var s=r(".nav-dropdown"),a=r("#toggle");if(a.on("click keypress",function(e){(function(e){if("click"===e.type)return!0;if("keypress"===e.type){var t=e.charCode||e.keyCode;if(32===t||13===t)return!0}})(e)&&(s.hasClass("active")?(s.removeClass("active"),r(this).attr("aria-expanded","false").removeClass("active")):(s.addClass("active"),r(this).attr("aria-expanded","true").addClass("active")))}),r(document).on("click",function(e){e.stopPropagation(),"toggle"!==e.target.id&&s.hasClass("active")&&(s.removeClass("active"),a.attr("aria-expanded","false").removeClass("active"))}),t.path.isFront){var o=r("#sched-iframe iframe");if(0<o.length)new MutationObserver(function(e,t){if(window.location.hash){var s=r(window.location.hash).offset().top,a=r("#header").outerHeight();r("html, body").scrollTop(s-a)}t.disconnect()}).observe(o[0],{attributes:!0,attributeFilter:["style"]});window.location.hash&&r('a[href^="/'+window.location.hash+'"]').addClass("active"),r('a[href^="/#"]').on("click",function(e){e.preventDefault();var t=this.hash,s=r("#header").outerHeight();r("html, body").animate({scrollTop:r(t).offset().top-s},1e3,function(){history.pushState?history.pushState({},"",t):window.location.hash=t}),r('a.cf-nav-link[href^="/#"]').removeClass("active").blur(),r(this).addClass("active")});var i=r("#heroVideo");r(i).on("ended",function(){r(".hero-overlay.video").removeClass("active"),r(".hero-overlay-image").animate({opacity:1},600)})}r(window).scroll(function(){50<r(this).scrollTop()?r("body").addClass("scrolled"):r("body").removeClass("scrolled")})}},e.behaviors.crosscutFestivalMenu={attach:function(e,t){r("#header").once("crosscutFestivalMenu").each(function(){t.path.isFront&&(new MutationObserver(function(){var e=r("#header").outerHeight();r("#content").css("margin-top",e)}).observe(r(this)[0],{attributes:!0,attributeFilter:["data-mutate"],childList:!0,subtree:!0}),r(this).attr("data-mutate",1))})}},e.behaviors.crosscutFestivalAnnouncement={attach:function(e,t){r(".announcement-banner").once("crosscutFestivalAnnouncement").each(function(){sessionStorage.getItem("announcementClosed")||(r(this).removeClass("d-none"),r(this).children(".close").on("click",function(){r(this).parent().remove(),sessionStorage.setItem("announcementClosed","1")}))})}},e.behaviors.crosscutNews={attach:function(e,t){r("#news").once("crosscutNews").each(function(){var c=r(".crosscut-articles"),n="https://crosscut.com";r.ajax({url:"https://crosscut.com/json/festival-news",method:"GET",crossDomain:!0,success:function(e){!function(e){console.log(e);for(var t="",s=0;s<e.length;s++){var a=e[s].view_node,o=n+e[s].image,i=e[s].created.slice(0,-8);t+='<div class="row no-gutters mb-5"><div class="col-sm-6 col-md-3"><div class="img-container"><a href="'+a+'"><img class="newsImage" alt="Crosscut Festival News Article" src="'+o+'"/></a></div></div><div class="col-sm-6 col-md-9 article-teaser"><h4><a href="'+a+'">'+e[s].title+"</a></h4>"+e[s].excerpt+'<span class="byline">by '+e[s].author+" / "+i+"</span></div></div>"}c.append(t)}(e)},error:function(e,t,s){e.status,e.statusText;c.append('<p>Head over to <a href="https://crosscut.com/crosscut-festival">crosscut.com</a> to see the latest Crosscut Festival updates.</p>')}})})}}}(jQuery,Drupal);